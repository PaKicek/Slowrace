# Документация языка Slowrace
## Основные правила
Точка входа программы - `main (int argc, array string argv[])` (без `func`).
В качестве аргументов принимает количество аргументов командной строки и сами аргументы (всё как в других языках).

Любая строка программы оканчивается точкой с запятой (`;`).

Всё, что начинается с `//` и до перевода строки, считается комментарием (не интерпретируется парсером).

Если парсер обнаружит синтаксическую ошибку, вызывается ошибка `Syntax Error`.

Пример программы Hello World:
```cpp
main (int argc, array string argv[]) {
    println("Hello World!");
}
```

## Ключевые слова
- `int`, `float`, `string`, `bool`
- `array`, `func`, `main`, `return`
- `ìf`, `else`, `elif`, `for`, `while`
- `null`

## Типы данных
- `int` - число (значимый тип, занимает в памяти 8 байт, диапазон от `-9223372036854775807` до `9223372036854775807`). По умолчанию инициализируется значением `0`.

Пример:
```cpp
int a; // 0
int b = 10; // 10
```

- `float` - число с плавающей точкой (значимый тип, занимает в памяти 8 байт, состоит из знака, экспоненты и мантиссы). По умолчанию инициализируется значением `0` (все биты равны 0).

Пример:
```cpp
float a; // 0
float b = -1,5; // -1,5
```

- `string` - строка (значимый тип, каждый символ занимает в памяти 1 байт, все символы из таблицы ASCII). По умолчанию инициализируется значением `""` (пустая строка).

Пример:
```cpp
string a; // ""
string b = "abc"; // "abc"
```

- `bool` - логическое значение (`true` или `false`, занимает в памяти 1 байт). По умолчанию инициализируется значением `false`.

Пример:
```cpp
bool a; // false
bool b = true; // true
```

## Операторы
Операторы преобразуют одно или два значения переменных в их результат.
Обе переменные должны быть совместимых типов данных, иначе вызывается ошибка `Type Error`.

### Приоритеты операторов (ассоциативность всегда слева направо):
- Всё, что в скобках (`()`)
- `++`, `--`
- `*`, `/`, `%`
- `+`, `-`
- `>`, `<`, `>=`, `<=`
- `==`, `!=`
- `&`
- `|`
- `&&`
- `||`
- `=`

### Список операторов:

- `=` - присваивание значения переменной.

Пример:
```cpp
// Если присвоить значение одного типа переменной другого типа, вызывается ошибка Type Error
int a = 4; // 4
int b = 1,5; // Type Error
string c = a; // Type Error
```

- `+` - сложение двух чисел (`int` и/или `float`) или конкатенация двух строк.

Пример:
```cpp
// Если складываются два int, получается int
// Если хотя бы одно слагаемое float, получается float
int a = 4;
int b = 2;
int c = a + b; // 6

string str1 = "abc";
string str2 = "def";
string result = str1 + str2; // "abcdef"
```

- `-` - вычитание двух чисел (`int` и/или `float`).

Пример:
```cpp
// Если вычитаются два int, получается int
// Если хотя бы уменьшаемое или вычитаемое float, получается float
int a = 4;
int b = 2;
int c = a - b; // 2
```

- `*` - умножение двух чисел (`int` и/или `float`).

Пример:
```cpp
// Если перемножаются два int, получается int
// Если хотя бы один множитель float, получается float
int a = 4;
int b = 2;
int c = a * b; // 8
```

- `/` - деление двух чисел (`int` и/или `float`).

Пример:
```cpp
// Если делятся два int, получается int (при этом деление целочисленное)
// Если хотя бы делимое или делитель float, получается float (при этом деление обычное)
int a = 4;
int b = 2;
int c = a / b; // 2
```

- `%` - взятие остатка от целочисленного деления двух чисел (`int`).

Пример:
```cpp
int a = 4;
int b = 2;
int c = a % b; // 0
```

- `&` - побитовое И двух чисел (`int`).

Пример:
```cpp
int a = 3;
int b = 1;
int c = a & b; // 1
```

- `|` - побитовое ИЛИ двух чисел (`int`).

Пример:
```cpp
int a = 3;
int b = 1;
int c = a | b; // 3
```

- `==` и `!=` - сравнение двух значений (любого типа).

Пример:
```cpp
int a1 = 4;
int b1 = 2;
bool c1 = a1 == b1; // false

int a2 = -3;
int b2 = -3;
bool c2 = a2 == b2; // true

float a3 = 9,4;
bool c3 = a3 == 9,4; // true

float a4 = 9,4;
bool c4 = a4 != 9,4; // false

int a5 = -2;
string b5 = "-2";
bool c5 = a5 == b5; // false

int a6 = -2;
string b6 = "-2";
bool c6 = a6 != b6; // true
```

- `>`, `<`, `>=`, `<=` - сравнение двух чисел (`int` и/или `float`).

Пример:
```cpp
int a1 = 4;
int b1 = 2;
bool c1 = a1 > b1; // true

int a2 = -3;
int b2 = -3;
bool c2 = a2 < b2; // false

int a3 = -3;
int b3 = -3;
bool c3 = a3 <= b3; // true

int a4 = 4;
int b4 = 2;
bool c4 = a4 >= b4; // true
```

- `~` - логическое НЕ.

Пример:
```cpp
bool a = true;
bool b = ~a; // false
bool c = ~b; // true
```

- `&&` - логическое И.

Пример:
```cpp
bool a = true;
bool b = false;
bool c = a && b; // false
```

- `||` - логическое ИЛИ.

Пример:
```cpp
bool a = true;
bool b = false;
bool c = a || b; // true
```

- `++` - инкремент целого числа (`int`).

Пример:
```cpp
int a = 0;
a++; // 1
int b = a++; // b == 1; a == 2
```

- `--` - декремент целого числа (`int`).

Пример:
```cpp
int a = 0;
a--; // -1
int b = a--; // b == -1; a == -2
```

## Массивы

Объявляются ключевым словом `array`, после которого идёт тип данных и название (после названия слитно в квадратных скобках пишется размер массива).

Массив может быть проинициализирован всеми значениями сразу или позже по отдельности (в таком случае значение присваивается по индексу).

Если происходит попытка инициализации за пределами массива, вызывается ошибка `Index Error`.

Пример:
```cpp
array int a[10]; // [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
a[1] = 4; // [0, 4, 0, 0, 0, 0, 0, 0, 0, 0]
a[10] = 9; // Index Error
array string b[2] = ["abc", "cde", "fgh"]; // Index Error
array string b[2] = ["abc"]; // ["abc", ""]
```

## Функции

Объявляются ключевым словом `func`, после которого идёт возвращаемый тип данных (кроме существующих, функции могут иметь «тип данных» `void`, такие функции ничего не возвращают), название, после которого в скобках (`()`) идёт её сигнатура.
Далее начинается тело функции, ограниченное фигурными скобками `{ ... }`, в котором находится собственно код функции.

После исполнения кода функция должна вернуть значение, соответствующее её типу данных (возвращаемое значение описывается после ключевого слова `return`).
Если где-то возвращаемое значение не определено, вызывается ошибка `Return Error`.

Вызов функции происходит путём указания её названия и аргументов после него в скобках (`()`).
Функция может вызываться в любом месте, как в `main`, так и в любой другой функции, в том числе и в самой себе (рекурсия).

Пример
```cpp
func int sum1 (int a, int b) {
    int result = a + b;
    return result;
}

func int sum2 (string a, string b) {
    int result = a + b;
    return result; // Type Error
}

func int sum3 (int a, int b) { // Return Error
    int result = a + b;
}

func void sum4 (int a, int b) {
    int result = a + b;
    int result2 = sum1(result, b)
    println(result2); // a + b + b
}
```

## Условные операторы
`if-elif-else` - это условная конструкция, которая позволяет выполнять один из двух блоков кода: один — если условие истинно, другой — если условие ложно.

После ключевого слова (`if` или `elif`) в скобках (`()`) идёт само условие, в котором проверяется истинность выражения.

Пример 1:
```cpp
int a = 4;
int b = 2;
if (a > b) {
	print("Переменная a больше переменной b");
} elif (a < b) {
	print("Переменная a меньше переменной b");
} else {
	print("Переменная a равна переменной b");
}

```
Вывод: `Переменная a больше переменной b`

Пример 2:
```cpp
string s1 = "abc";
string s2 = "def";
if (s1 == s2) {
	print("Содержание строк одинаковое");
} else {
	print("Содержание строк разное");
}
```

Вывод: `Содержание строк разное`

## Циклы
В Slowrace есть 2 вида циклов: `for` и `while`.

Цикл `for` выполняется известное количество раз. Проходит по диапазону чисел, либо по элементам массива.

После ключевого слова в скобках (`()`) идёт инициализация переменной (например, счётчика), условие цикла (если оно не выполняется, цикл завершается), и действие, которое выполняется после каждой итерации (обычно это инкремент счётчика).
Все три части «блока условия» разделяются точкой с запятой (`;`).
Далее начинается тело цикла, ограниченное фигурными скобками `{ ... }`, в котором находится собственно код цикла.


Пример 1:
```cpp
for (int i = 0; i < 5; i++) { 
	println(i);
}
```
Вывод:
```
0
1
2
3
4
```

Пример 2:
```cpp
array string a[4] = ["s", "l", "o", "w"];
for (int i = 0; i < len(a); i++) {
	print(a[i]);
}
```
Вывод: `slow`

Цикл `while` - может применяться, когда число итераций неизвестно.

После ключевого слова в скобках (`()`) идёт условие цикла (если оно не выполняется, цикл завершается).
Далее начинается тело цикла, ограниченное фигурными скобками `{ ... }`, в котором находится собственно код цикла.

Пример:
```cpp
main (int argc, array string argv[]) {
  int i = 0;
  while (argv[i] != "stop" && i < argc) {
    println(argv[i]);
    i++;
  }
}
```

Ввод (аргументы командной строки): `a, b, c, stop, d, e`

Вывод: 
```cpp
a
b
c
```

## Встроенные функции
- `print` и `println` - выводит строку (`string`) или число (`int`, `float`, `bool`) в консоль.

Пример:
```cpp
int a = -28;
print(a); // -28
string b = "Hello";
print(b); // Hello
string c = "World!";
println(c); // World!(перевод строки)
```

- `len` - выводит длину строки или массива

Пример:
```cpp
int a = -28;
len(a); // Type Error
string b = "Hello"
len(b); // 5
array int nums[4] = [1, 2, 3, 4];
len(nums); // 4
```

- `to_int` - переводит строку в целое число, если это возможно (если нет, то вызывается ошибка `Type Error`).

Пример:
```cpp
string a1 = "123";
int b1 = to_int(a1); // 123

string a2 = "-34";
int b2 = to_int(a2); // -34

string a3 = "abc";
int b3 = to_int(a3); // Type Error
```
