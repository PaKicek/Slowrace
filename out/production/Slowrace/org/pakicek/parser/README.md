# Парсер

В этой директории находятся файлы, связанные с парсингом исходного кода и его подготовкой к последующей компиляции в байт-код.

## Компоненты

### Лексер (`lexer/`)
- **Lexer** - преобразует исходный код в токены
- **Token** - представляет лексические токены с типом, лексемой и литеральным значением
- **TokenType** - перечисление всех возможных типов токенов (ключевые слова, операторы, литералы и т.д.)

### Парсер (`parser/`)
- **Parser** - преобразует токены в абстрактное синтаксическое дерево (AST)

### Абстрактное синтаксическое дерево (`ast/`)
AST представляет синтаксическую структуру программы:

#### Основные компоненты
- **ASTNode** - базовый интерфейс для всех узлов AST
- **ASTVisitor** - интерфейс паттерна Visitor для обхода AST
- **ASTPrinter** - конкретная реализация Visitor для печати структуры AST

#### Типы узлов

##### Выражения (`expression/`)
**Литералы (`literal/`)**:
- **ArrayLiteralNode** - литералы массивов
- **BooleanLiteralNode** - булевы литералы (`true`/`false`)
- **FloatLiteralNode** - литералы вещественных чисел
- **IntegerLiteralNode** - целочисленные литералы
- **StringLiteralNode** - строковые литералы

**Операции и вызовы**:
- **ArrayAccessNode** - доступ к элементам массива
- **AssignmentNode** - операции присваивания
- **BinaryExpressionNode** - бинарные выражения (арифметические, логические операции)
- **ExpressionNode** - базовый класс для всех выражений
- **FieldAccessNode** - доступ к полям структур (через точку)
- **FunctionCallNode** - вызовы функций
- **UnaryExpressionNode** - унарные выражения (инкремент, декремент, отрицание)
- **VariableNode** - использование переменных

##### Операторы (`statement/`)
- **BlockStatementNode** - блоки кода (в фигурных скобках)
- **ExpressionStatementNode** - выражения, используемые как операторы
- **ForLoopNode** - циклы `for`
- **IfStatementNode** - условные операторы `if`/`else`
- **ReturnStatementNode** - операторы возврата из функций
- **StatementNode** - базовый класс для всех операторов
- **VariableDeclarationNode** - объявление переменных
- **WhileLoopNode** - циклы `while`

##### Типы данных (`type/`)
- **TypeNode** - базовый класс для всех типов данных
- **ArrayTypeNode** - типы массивов
- **BasicTypeNode** - базовые типы (`int`, `float`, `bool`, `string`, `void`)
- **StructTypeNode** - пользовательские типы структур

##### Основные структуры программы
- **FunctionDeclarationNode** - определения функций
- **MainNode** - точка входа основной программы
- **ParameterNode** - параметры функций
- **ProgramNode** - корневой узел, представляющий всю программу
- **StructDeclarationNode** - определения структур

## Архитектура
Программа проходит следующие этапы обработки:
1. **Лексический анализ** (Lexer) → Токены
2. **Синтаксический анализ** (Parser) → AST
3. **Обход AST** (ASTVisitor) для различных целей (валидация, оптимизация, кодогенерация)

## Использование
Парсер принимает токенизированный вход от лексера и производит AST, который может быть:
- Проверен на семантическую корректность
- Преобразован для оптимизации
- Использован для генерации кода в компоненте виртуальной машины