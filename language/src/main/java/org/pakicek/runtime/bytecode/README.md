# Байт-код
Здесь находятся определения инструкций и структур данных, которые использует виртуальная машина для исполнения программ.

## Компоненты

### OpCode
Перечисление (Enum) всех возможных инструкций виртуальной машины.

#### Категории инструкций:
- **Стек**: `LOAD_CONST`, `POP`, `DUP`, `ROT`.
- **Переменные**: `LOAD_LOCAL`, `STORE_LOCAL`.
- **Арифметика**: `ADD`, `SUB`, `MUL`, `DIV`, `MOD` (поддерживают `BigInteger` и `double`).
- **Логика и сравнение**: `AND`, `OR`, `NOT`, `EQ`, `GT`, `LT` и др.
- **Управление потоком**: `JMP` (безусловный переход), `JMP_FALSE` (условный), `CALL`, `RETURN`.
- **Объекты и память**: `NEW_ARRAY`, `GET_ARRAY`, `SET_ARRAY`, `NEW_STRUCT`, `GET_FIELD`, `SET_FIELD`.
- **Встроенные функции**: `PRINT`, `PRINTLN`, `HALT`, `RANDOM`.

### Chunk
Класс, представляющий блок байт-кода (единицу компиляции, например, тело функции).

#### Содержит:
- **Code**: Список байтов (`List<Byte>`), представляющий последовательность опкодов и их аргументов.
- **Constants**: Пул констант (`List<SrValue>`), хранящий числа и строки, используемые в коде. Инструкции ссылаются на константы по индексу.
- **Lines**: Отладочная информация (`List<Integer>`), сопоставляющая каждый байт инструкции с номером строки в исходном коде.

#### Методы:
- `emit(OpCode op, int line)`: Добавляет инструкцию в код.
- `emitByte(int b, int line)`: Добавляет аргумент (байт) в код.
- `addConstant(SrValue value)`: Добавляет значение в пул констант и возвращает его индекс.